<app-header></app-header>

<div class="container main">
  <div class="row clearfix">
    <div class="col-lg-12">
      <div class="card chat-app">
        <div id="plist" class="people-list">
          <div class="input-group">
            <input type="text" class="form-control" [(ngModel)]="userName"  (keydown.enter)="getUsers()" placeholder="Search...">
            <button class="input-group-prepend search-btn" [disabled]="!userName.length" (click)="getUsers()">
              <span class="input-group-text "><i class="fa fa-search"></i></span>
            </button>
          </div>
          <ul class="list-unstyled chat-list mt-2 mb-0">
            <li class="clearfix" [ngClass]="activeChat && item.id === user2Id.value ? 'active': ''" (click)="joinRoom(item.id)" *ngFor="let item of allUsers">
              <div class="about">
                <div class="name">{{item.name}}</div>
              </div>
            </li>
          </ul>
        </div>
        <div  class="chat-p" >
          <app-chat *ngIf="activeChat; else text" [user2Id]="user2Id"></app-chat>
        </div>

        <ng-template #text>
            <h2>Select a user to start a chat</h2>
        </ng-template>
      </div>
    </div>
  </div>
</div>
